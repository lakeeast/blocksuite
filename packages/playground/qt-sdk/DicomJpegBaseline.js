/*
 For license information please see DicomJpegBaseline.js.LICENSE.txt */
(self.aa=self.aa||[]).push([[256],{36:(Ea,fb,Pa)=>{Pa.d(fb,{h:()=>mb});const mb=function(){function Ya(){this.O=0}return Ya.prototype.Initialize=function(){return!0},Ya.prototype.yd=function(Da){3===Da.SamplesPerPixel&&(Da.PhotometricInterpretation="RGB")},Ya}()},53:(Ea,fb,Pa)=>{function mb(I){throw console.log("Error: "+I),Error(I);}function Ya(){return new U}Pa.r(fb);Pa.d(fb,{default:()=>Ya});var Da=function(){function I(){this.Kh=-1}return I.prototype.Ms=function(K,x){for(var m,C,D=0,p=[],z=16;0<
z&&!K[z-1];)z--;p.push({children:[],index:0});var G,L=p[0];for(m=0;m<z;m++){for(C=0;C<K[m];C++){for((L=p.pop()).children[L.index]=x[D];0<L.index;)L=p.pop();L.index++;for(p.push(L);p.length<=m;)p.push(G={children:[],index:0}),L.children[L.index]=G.children,L=G;D++}m+1<z&&(p.push(G={children:[],index:0}),L.children[L.index]=G.children,L=G)}return p[0].children},I.rg=function(K,x,m){return 64*((K.Ec+1)*x+m)},I.prototype.pt=function(K,x,m,C,D,p,z,G,L){function ca(){if(0<wa)return wa--,Ca>>wa&1;if(255===
(Ca=K[x++])){var O=K[x++];O&&mb("JPEG error: unexpected marker "+(Ca<<8|O).toString(16))}return wa=7,Ca>>>7}function Y(O){for(var u=O;null!==(O=ca());){if("number"==typeof(u=u[O]))return u;if("object"!=typeof u)throw"invalid huffman sequence";}return null}function Q(O){for(var u=0;0<O;){var B=ca();if(null===B)return;u=u<<1|B;O--}return u}function A(O){var u=Q(O);return u>=1<<O-1?u:u+(-1<<O)+1}m.precision;m.Ji;m.Li;var M=m.Su,y=m.vv,na=(m.mi,m.ni,x),Ca=0,wa=0,w,da=0,ea=0,R,xa,za,ua,Fa=C.length;G=y?
0===p?0===G?function(O,u){var B=Y(O.Kn);B=0===B?0:A(B)<<L;O.Ua[u]=O.yi+=B}:function(O,u){O.Ua[u]|=ca()<<L}:0===G?function(O,u){if(0<da)da--;else for(var B=p;B<=z;){var E=Y(O.wk),V=15&E;E>>=4;if(0!==V)B+=E,O.Ua[u+I.ng[B]]=A(V)*(1<<L),B++;else{if(15>E){da=Q(E)+(1<<E)-1;break}B+=16}}}:function(O,u){for(var B=p,E=0;B<=z;){var V=I.ng[B];switch(ea){case 0:E=Y(O.wk);V=15&E;if(E>>=4,0===V)15>E?(da=Q(E)+(1<<E),ea=4):(E=16,ea=1);else{if(1!==V)throw"invalid ACn encoding";w=A(V);ea=E?2:3}continue;case 1:case 2:O.Ua[u+
V]?O.Ua[u+V]+=ca()<<L:0==--E&&(ea=2==ea?3:0);break;case 3:O.Ua[u+V]?O.Ua[u+V]+=ca()<<L:(O.Ua[u+V]=w<<L,ea=0);break;case 4:O.Ua[u+V]&&(O.Ua[u+V]+=ca()<<L)}B++}4===ea&&0==--da&&(ea=0)}:function(O,u){var B=Y(O.Kn);B=0===B?0:A(B);O.Ua[u]=O.yi+=B;for(B=1;64>B;){var E=Y(O.wk),V=15&E;E>>=4;if(0!==V)B+=E,O.Ua[u+I.ng[B]]=A(V),B++;else{if(15>E)break;B+=16}}};y=0;m=1===Fa?C[0].Ec*C[0].Rd:M*m.Ru;for(D||=m;y<m;){for(R=0;R<Fa;R++)C[R].yi=0;if(da=0,1===Fa){var Sa=C[0];for(ua=0;ua<D;ua++)G(Sa,I.rg(Sa,y/Sa.Ec|0,y%
Sa.Ec)),y++}else for(ua=0;ua<D;ua++){for(R=0;R<Fa;R++){var Ga=(Sa=C[R]).wg;var ba=Sa.fe;for(xa=0;xa<ba;xa++)for(za=0;za<Ga;za++)G(Sa,I.rg(Sa,(y/M|0)*Sa.fe+xa,y%M*Sa.wg+za))}y++}if(wa=0,65280>=(Sa=K[x]<<8|K[x+1]))throw"marker was not found";if(!(65488<=Sa&&65495>=Sa))break;x+=2}return x-na},I.prototype.yv=function(K,x,m){var C,D,p,z,G,L,ca,Y,Q,A,M=K.Uk;for(A=0;64>A;A++)m[A]=K.Ua[x+A]*M[A];for(A=0;8>A;++A)M=8*A,0!==m[1+M]||0!==m[2+M]||0!==m[3+M]||0!==m[4+M]||0!==m[5+M]||0!==m[6+M]||0!==m[7+M]?(C=I.ef*
m[M]+128>>8,D=I.ef*m[4+M]+128>>8,p=m[2+M],z=m[6+M],G=I.Th*(m[1+M]-m[7+M])+128>>8,Y=I.Th*(m[1+M]+m[7+M])+128>>8,L=m[3+M]<<4,ca=m[5+M]<<4,Q=C-D+1>>1,C=C+D+1>>1,D=Q,Q=p*I.Sh+z*I.Ph+128>>8,p=p*I.Ph-z*I.Sh+128>>8,z=Q,Q=G-ca+1>>1,G=G+ca+1>>1,ca=Q,Q=Y+L+1>>1,L=Y-L+1>>1,Y=Q,Q=C-z+1>>1,C=C+z+1>>1,z=Q,Q=D-p+1>>1,D=D+p+1>>1,p=Q,Q=G*I.Rh+Y*I.Oh+2048>>12,G=G*I.Oh-Y*I.Rh+2048>>12,Y=Q,Q=L*I.Qh+ca*I.Nh+2048>>12,L=L*I.Nh-ca*I.Qh+2048>>12,ca=Q,m[M]=C+Y,m[7+M]=C-Y,m[1+M]=D+ca,m[6+M]=D-ca,m[2+M]=p+L,m[5+M]=p-L,m[3+M]=
z+G,m[4+M]=z-G):(Q=I.ef*m[M]+512>>10,m[M]=Q,m[1+M]=Q,m[2+M]=Q,m[3+M]=Q,m[4+M]=Q,m[5+M]=Q,m[6+M]=Q,m[7+M]=Q);for(A=0;8>A;++A)M=A,0!==m[8+M]||0!==m[16+M]||0!==m[24+M]||0!==m[32+M]||0!==m[40+M]||0!==m[48+M]||0!==m[56+M]?(C=I.ef*m[M]+2048>>12,D=I.ef*m[32+M]+2048>>12,p=m[16+M],z=m[48+M],G=I.Th*(m[8+M]-m[56+M])+2048>>12,Y=I.Th*(m[8+M]+m[56+M])+2048>>12,L=m[24+M],ca=m[40+M],Q=C-D+1>>1,C=C+D+1>>1,D=Q,Q=p*I.Sh+z*I.Ph+2048>>12,p=p*I.Ph-z*I.Sh+2048>>12,z=Q,Q=G-ca+1>>1,G=G+ca+1>>1,ca=Q,Q=Y+L+1>>1,L=Y-L+1>>1,
Y=Q,Q=C-z+1>>1,C=C+z+1>>1,z=Q,Q=D-p+1>>1,D=D+p+1>>1,p=Q,Q=G*I.Rh+Y*I.Oh+2048>>12,G=G*I.Oh-Y*I.Rh+2048>>12,Y=Q,Q=L*I.Qh+ca*I.Nh+2048>>12,L=L*I.Nh-ca*I.Qh+2048>>12,ca=Q,m[M]=C+Y,m[56+M]=C-Y,m[8+M]=D+ca,m[48+M]=D-ca,m[16+M]=p+L,m[40+M]=p-L,m[24+M]=z+G,m[32+M]=z-G):(Q=I.ef*m[A]+8192>>14,m[M]=Q,m[8+M]=Q,m[16+M]=Q,m[24+M]=Q,m[32+M]=Q,m[40+M]=Q,m[48+M]=Q,m[56+M]=Q);for(A=0;64>A;++A)C=x+A,D=m[A],D=D<=-2056/K.ye?0:D>=2024/K.ye?255/K.ye:D+2056/K.ye>>4,K.Ua[C]=D},I.prototype.Ks=function(K,x){K=x.Ec;for(var m=
x.Rd,C=new Int32Array(64),D=0;D<m;D++)for(var p=0;p<K;p++)this.yv(x,I.rg(x,D,p),C);return x.Ua},I.af=function(K){return 0>=K?0:255<=K?255:0|K},I.prototype.parse=function(K){function x(){var R=K[z]<<8|K[z+1];return z+=2,R}function m(R){for(var xa=Math.ceil(R.Ji/8/R.mi),za=Math.ceil(R.Li/8/R.ni),ua=0;ua<R.C.length;ua++){ea=R.C[ua];var Fa=Math.ceil(Math.ceil(R.Ji/8)*ea.wg/R.mi),Sa=Math.ceil(Math.ceil(R.Li/8)*ea.fe/R.ni);ea.Ua=new Int16Array(za*ea.fe*64*(xa*ea.wg+1));ea.Ec=Fa;ea.Rd=Sa}R.Su=xa;R.Ru=za}
var C,D,p,z=0,G=null,L=[],ca=[],Y=[],Q=x();65496!==Q&&mb("JPEG error: SOI not found");for(Q=x();65497!==Q;){switch(Q){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var A=(void 0,void 0,D=x(),p=K.subarray(z,z+D-2),z+=p.length,p);65518===Q&&65===A[0]&&100===A[1]&&111===A[2]&&98===A[3]&&101===A[4]&&0===A[5]&&(G={version:A[6],Oz:A[7]<<8|A[8],Pz:A[9]<<8|A[10],kp:A[11]});
break;case 65499:for(Q=x()+z-2;z<Q;){var M=K[z++],y=new Int32Array(64);if(0==M>>4)for(A=0;64>A;A++)y[I.ng[A]]=K[z++];else{if(1!=M>>4)throw"DQT: invalid table spec";for(A=0;64>A;A++)y[I.ng[A]]=x()}L[15&M]=y}break;case 65472:case 65473:case 65474:if(C)throw"Only single frame JPEGs supported";x();(C={}).Lz=65473===Q;C.vv=65474===Q;C.precision=K[z++];C.Li=x();C.Ji=x();C.C=[];C.Im={};M=K[z++];var na=y=0;for(Q=0;Q<M;Q++){A=K[z];var Ca=K[z+1]>>4;var wa=15&K[z+1];y<Ca&&(y=Ca);na<wa&&(na=wa);var w=K[z+2];
Ca=C.C.push({wg:Ca,fe:wa,Uk:L[w],Fo:w,ye:255/((1<<C.precision)-1)});C.Im[A]=Ca-1;z+=3}C.mi=y;C.ni=na;m(C);break;case 65476:M=x();for(Q=2;Q<M;){y=K[z++];na=new Uint8Array(16);for(A=Ca=0;16>A;A++,z++)Ca+=na[A]=K[z];wa=new Uint8Array(Ca);for(A=0;A<Ca;A++,z++)wa[A]=K[z];Q+=17+Ca;(0==y>>4?Y:ca)[15&y]=this.Ms(na,wa)}break;case 65501:x();var da=x();break;case 65498:x();M=K[z++];A=[];for(Q=0;Q<M;Q++){y=C.Im[K[z++]];var ea=C.C[y];y=K[z++];ea.Kn=Y[y>>4];ea.wk=ca[15&y];A.push(ea)}Q=K[z++];M=K[z++];y=K[z++];
Q=this.pt(K,z,C,A,da,Q,M,y>>4,15&y);z+=Q;break;default:if(255==K[z-3]&&192<=K[z-2]&&254>=K[z-2])z-=3;else throw"unknown JPEG marker "+Q.toString(16);}Q=x()}this.width=C.Ji;this.height=C.Li;this.gg=G;this.C=[];for(Q=0;Q<C.C.length;Q++)(ea=C.C[Q]).Uk||null===ea.Fo||(ea.Uk=L[ea.Fo]),this.C.push({ya:this.Ks(C,ea),Ro:ea.wg/C.mi,So:ea.fe/C.ni,Ec:ea.Ec,Rd:ea.Rd,ye:ea.ye})},I.prototype.Rt=function(K,x){if(1!==this.C.length)throw"Unsupported color mode";var m,C,D,p,z=this.width/K,G=this.height/x,L,ca=this.C.length,
Y=new Uint16Array(K*x*ca),Q=new Uint16Array((this.C[0].Ec<<3)*this.C[0].Rd*8);for(p=0;p<ca;p++){var A=(m=this.C[p]).Ec;var M=m.Rd;for(var y=A<<3,na,Ca=0;Ca<M;Ca++)for(var wa=Ca<<3,w=0;w<A;w++){var da=I.rg(m,Ca,w),ea=(L=0,w<<3);for(C=0;8>C;C++)for(na=(wa+C)*y,D=0;8>D;D++)Q[na+ea+D]=m.ya[da+L++]}C=m.Ro*z;m=m.So*G;L=p;for(A=0;A<x;A++)for(D=0;D<K;D++)M=(0|A*m)*y+(0|D*C),Y[L]=Q[M],L+=ca}return Y},I.prototype.getData=function(K,x){var m,C,D,p,z;var G=this.width/K;var L=this.height/x,ca,Y=this.C.length,
Q=K*x*Y,A=new Uint8Array(Q),M=new Uint8Array((this.C[0].Ec<<3)*this.C[0].Rd*8);for(p=0;p<Y;p++){var y=(m=this.C[p]).Ec;var na=m.Rd;for(var Ca=y<<3,wa,w=0;w<na;w++)for(var da=w<<3,ea=0;ea<y;ea++){var R=I.rg(m,w,ea),xa=(ca=0,ea<<3);for(C=0;8>C;C++)for(wa=(da+C)*Ca,D=0;8>D;D++)M[wa+xa+D]=m.ya[R+ca++]*m.ye}C=m.Ro*G;m=m.So*L;ca=p;for(y=0;y<x;y++)for(D=0;D<K;D++)na=(0|y*m)*Ca+(0|D*C),A[ca]=M[na],ca+=Y}switch(Y){case 1:case 2:break;case 3:if(z=!0,this.gg&&this.gg.kp?z=!0:void 0!==this.Kh&&(z=!!this.Kh),
z)for(p=0;p<Q;p+=Y)K=A[p],x=A[p+1],G=A[p+2],z=I.af(K-179.456+1.402*G),G=I.af(K+135.459-.344*x-.714*G),K=I.af(K-226.816+1.772*x),A[p]=z,A[p+1]=G,A[p+2]=K;break;case 4:if(!this.gg)throw"Unsupported color mode (4 components)";if(z=!1,this.gg&&this.gg.kp?z=!0:void 0!==this.Kh&&(z=!!this.Kh),z)for(p=0;p<Q;p+=Y)K=A[p],x=A[p+1],G=A[p+2],z=I.af(434.456-K-1.402*G),G=I.af(119.541-K+.344*x+.714*G),K=I.af(481.816-K-1.772*x),A[p]=z,A[p+1]=G,A[p+2]=K;break;default:throw"Unsupported color mode";}return A},I.ng=
new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),I.Nh=4017,I.Qh=799,I.Oh=3406,I.Rh=2276,I.Ph=1567,I.Sh=3784,I.ef=5793,I.Th=2896,I}(),va=Pa(12),fa=Pa(608),la=Pa(369);Ea=Pa(36);var T,W=(T=function(I,K){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,m){x.__proto__=m}||function(x,m){for(var C in m)Object.prototype.hasOwnProperty.call(m,
C)&&(x[C]=m[C])},T(I,K)},function(I,K){function x(){this.constructor=I}if("function"!=typeof K&&null!==K)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");T(I,K);I.prototype=null===K?Object.create(K):(x.prototype=K.prototype,new x)}),U=function(I){function K(){return null!==I&&I.apply(this,arguments)||this}return W(K,I),K.prototype.yc=function(x,m,C,D){x=va.h.Nc(C,x,D);m=this.De(x,m);return new la.h(m,fa.h.Oc())},K.prototype.zd=function(x,m,C,D){x=va.h.Nc(C,x,D);
return new la.h(x,fa.h.Pf())},K.prototype.De=function(x,m){var C=new Da,D=null;x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength);(C.parse(x),8===m.BitsAllocated)?(x=C.getData(m.Ya,m.Rows,null),D=new DataView(x.buffer)):16===m.BitsAllocated&&(m=C.Rt(m.Ya,m.Rows),D=new DataView(m.buffer));return D},K}(Ea.h)}}]);
